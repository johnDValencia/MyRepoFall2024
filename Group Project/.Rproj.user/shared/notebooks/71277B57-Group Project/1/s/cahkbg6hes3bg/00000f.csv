"0","# Define x_limit_min and x_breaks for pre-2022 and post-2021 years"
"0","x_limit_min <- as.Date(""2019-01-01"")"
"0","x_limit_max <- max(llms$date_as_date, na.rm = TRUE)"
"0","all_years_post2021 <- 2022:max(llms$year, na.rm = TRUE)"
"0","x_breaks <- c(as.Date(""2021-01-01""), as.Date(paste0(all_years_post2021, ""-01-01"")))"
"0","x_labels <- c(""pre-2022"", as.character(all_years_post2021))"
"0",""
"0",""
"0","llms <- llms %>%"
"0","  mutate("
"0","    source = case_when("
"0","      `open access` == ""YES"" ~ ""Open"","
"0","      TRUE ~ ""Closed"""
"0","    ),"
"0","    date_label = ifelse(date_as_date < as.Date(""2022-01-01""), ""pre-2022"", as.character(year(date_as_date)))"
"0","  )"
"0",""
"0",""
"0","# Plot"
"0","ggplot(llms, aes(x = date_as_date, "
"0","                 y = MMLU, "
"0","                 size = parameters_bn, "
"0","                 color = creator, "
"0","                 shape = source)) +"
"0","  geom_point(alpha = 0.7) +"
"0","  "
"0","  # Add labels only for models with significance"
"0","  geom_text("
"0","    data = subset(llms, `force label` == ""YES"" | (!is.na(Note) & Note != """") | `show only` == ""significant models""),"
"0","    aes(label = Model),"
"0","    color = ""black"","
"0","    vjust = 1.5,"
"0","    size = 3"
"0","  ) +"
"0","  "
"0","  # Add horizontal benchmark lines"
"0","  geom_hline(yintercept = 70, linetype = ""dashed"", color = ""red"") +"
"0","  geom_hline(yintercept = 89.8, linetype = ""dashed"", color = ""blue"") +"
"0","  "
"0","   # Adjust y-axis to ensure 100 MMLU is the final mark"
"0","  scale_y_continuous("
"0","    name = ""MMLU Benchmark Score"","
"0","    limits = c(18, 100),  # Set the range from 0 to 100"
"0","    breaks = seq(0, 100, by = 20)  # Customize breaks (0, 20, 40, ..., 100)"
"0","  ) +"
"0","  "
"0","  scale_x_discrete("
"0","    name = ""Year"","
"0","    expand = expansion(mult = c(0.02, 0.02))"
"0","  ) +"
"0","  "
"0","  # Add labels for the benchmark lines"
"0","  annotate(""text"", "
"0","           x = x_limit_min, "
"0","           y = 70, "
"0","           label = ""70+ IDEAL"", "
"0","           hjust = 0, "
"0","           vjust = 1.5, "
"0","           color = ""red"") +"
"0","  annotate(""text"", "
"0","           x = x_limit_min, "
"0","           y = 89.8, "
"0","           label = ""88.9 = human expert"", "
"0","           hjust = 0, "
"0","           vjust = 1.5, "
"0","           color = ""blue"") +"
"0","  "
"0","  # Add a polynomial regression line"
"0","  geom_smooth("
"0","    aes(group = 1),"
"0","    method = ""lm"", "
"0","    formula = y ~ poly(as.numeric(x), 5), # Convert Date to numeric and use degree 5"
"0","    se = FALSE, "
"0","    color = ""black"","
"0","    linetype = ""solid"","
"0","    size = 0.5"
"0","  ) +"
"0","  "
"0","  scale_x_date("
"0","    name = ""Year"","
"0","    breaks = x_breaks,"
"0","    labels = x_labels,"
"0","    limits = c(x_limit_min, x_limit_max),"
"0","    expand = expansion(mult = c(0.02, 0.02))"
"0","  ) +"
"0","  "
"0","  scale_shape_manual("
"0","    values = c(""Open"" = 18, ""Closed"" = 16), # Diamonds for Open, Circles for Closed"
"0","    name = ""Source"""
"0","  ) +"
"0","  "
"0","  scale_size_continuous("
"0","    range = c(3, 15),"
"0","    guide = ""none"" # Remove size legend"
"0","  ) +"
"0","  labs("
"0","    title = ""Major Large Language Models (LLMs)"","
"0","    subtitle = ""Ranked by capabilities, sized by billion parameters used for training"","
"0","    y = ""MMLU Benchmark Score"","
"0","    color = ""Creator"""
"0","  ) +"
"0","  theme_minimal() +"
"0","  theme("
"0","    legend.position = ""right"","
"0","    legend.title = element_text(size = 10),"
"0","    legend.text = element_text(size = 9),"
"0","    axis.text.x = element_text(angle = 0, hjust = 0.5),"
"0","    plot.title = element_text(hjust = 0.5),"
"0","    plot.subtitle = element_text(hjust = 0.5),"
"0","    axis.title.x = element_text(size = 12),"
"0","    axis.title.y = element_text(size = 12)"
"0","  ) +"
"0","  "
"0","  guides(size = ""none"") + # Remove size legend"
"0","  annotate(""text"", "
"0","           x = x_limit_min, "
"0","           y = max(llms$MMLU, na.rm = TRUE), "
"0","           label = ""Parameters = Size"", "
"0","           hjust = 0, "
"0","           vjust = 1, "
"0","           size = 4, "
"0","           color = ""black"")"
"1","[38;5;253mScale for [32mx[38;5;253m is already present.
Adding another scale for [32mx[38;5;253m, which will replace the existing scale.[39m
"
"2","Warning:"
"2"," [38;5;253mThe following aesthetics were dropped during statistical transformation: [32mshape[38;5;253m.
[36mâ„¹[38;5;253m This can happen when ggplot fails to infer the correct grouping structure in the data.
[36mâ„¹[38;5;253m Did you forget to specify a `group` aesthetic or to convert a numerical variable into a factor?[39m
"
